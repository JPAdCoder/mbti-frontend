<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title></title>
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<link rel="stylesheet" href="css/index.css" />
	</head>
	<body>
		<div class="container" id="container">

			<div id="logo" class="row">
				<img src="img/hryy.jpg" class="thumbnail col-xs-2">
			</div>

			<div id="baseInformation" v-if="isBaseInformation">
				<div id="title" class="row">
					<h2 class="col-xs-12 text-center">MBTI测试</h2>
				</div>

				<div id="form">
					<form class="form-horizontal">

						<div class="form-group">
							<div class="col-xs-10 col-xs-offset-1">
								<input type="text" class="form-control" v-model="name" placeholder="名字" />
							</div>
						</div>

						<div class="form-group">
							<div class="col-xs-10 col-xs-offset-1">
								<select class="form-control" v-model="sex">
									<option v-for="option in sex_options" v-bind:value="option.value" >
										{{option.text}}
									</option>
								</select>
							</div>
						</div>


						<div class="form-group">
							<div class="col-xs-10 col-xs-offset-1">
								<input type="tel" class="form-control" v-model="phone" placeholder="手机号" />
							</div>
						</div>

						<div class="form-group">
							<div class="col-xs-10 col-xs-offset-1">
								<input type="email" class="form-control" v-model="mail" placeholder="邮箱" />
							</div>
						</div>

						<div class="form-group">
							<div class="col-xs-10 col-xs-offset-1">
								<select class="form-control" v-model="department_id">
									<option v-for="option in department_options" v-bind:value="option.value">
										{{option.text}}
									</option>
								</select>
							</div>
						</div>

					</form>

					<button class="btn btn-primary col-xs-10 col-xs-offset-1" data-toggle="modal" data-target="#confirmModal">提交</button>

					<!-- 模态框（Modal） -->
					<div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="confirmModalLabel"
					 aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
										&times;
									</button>
								</div>
								<div class="modal-body">
									<div>确认提交吗</div>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default" data-dismiss="modal">
										再看一眼
									</button>
									<button type="button" class="btn btn-primary" @click="addCandidate" data-dismiss="modal">
										确定
									</button>
								</div>

							</div>

						</div>

					</div>

				</div>
			</div>

			<div id="question" v-if=>
				
			</div>

		</div>
	</body>
	
	<script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/axios.min.js" type="text/javascript" charset="UTF-8"></script>
	<script src="js/jquery.min.js" type="text/javascript" charset="UTF-8"></script>
	<script src="js/bootstrap.min.js" type="text/javascript" charset="UTF-8"></script>
	
	<script>
		var baseInformationVm = new Vue({
			el: '#container',
			data: {
				name: null,
				// 此处使用Select使用v-model绑定 Option使用v-for绑定 指定select的值时指定value属性
				sex: 1,
				sex_options: [
					{text: '男', value: 1},
					{text: '女', value: 2}
				],
				phone: null,
				mail: null,
				department_id: 1,
				department_options: [
					{text: '信息部', value: 1},
					{text: '人事部', value: 2}
				],
				isBaseInformation: true
			},
			methods: {
				addCandidate: function(event) {
					axios.post('http://localhost:5000/addCandidate', {
							name: this.name,
							sex: this.sex,
							phone: this.phone,
							mail: this.mail,
							department_id: this.department_id
						})
						.then(function(response) {
							this.vm.isBaseInformation = false;
						})
						.catch(function(error) {
							console.log(error);
						})
				}
			}
		})
	</script>
</html>
